

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>glucifer.objects &mdash; underworld2  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="underworld2  documentation" href="../../index.html"/>
        <link rel="up" title="Module code" href="../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> underworld2
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../underworld.html">underworld module</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glucifer.html">glucifer module</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">underworld2</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Module code</a> &raquo;</li>
      
    <li>glucifer.objects</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for glucifer.objects</h1><div class="highlight"><pre>
<span></span><span class="c1">##~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~##</span>
<span class="c1">##                                                                                   ##</span>
<span class="c1">##  This file forms part of the Underworld geophysics modelling application.         ##</span>
<span class="c1">##                                                                                   ##</span>
<span class="c1">##  For full license and copyright information, please refer to the LICENSE.md file  ##</span>
<span class="c1">##  located at the project root, or contact the authors.                             ##</span>
<span class="c1">##                                                                                   ##</span>
<span class="c1">##~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~#~##</span>

<span class="kn">import</span> <span class="nn">underworld</span> <span class="k">as</span> <span class="nn">_underworld</span>
<span class="kn">import</span> <span class="nn">underworld._stgermain</span> <span class="k">as</span> <span class="nn">_stgermain</span>
<span class="kn">import</span> <span class="nn">underworld.swarm</span> <span class="k">as</span> <span class="nn">_swarmMod</span>
<span class="kn">import</span> <span class="nn">underworld.mesh</span> <span class="k">as</span> <span class="nn">_uwmesh</span>
<span class="kn">from</span> <span class="nn">underworld.function</span> <span class="k">import</span> <span class="n">Function</span> <span class="k">as</span> <span class="n">_Function</span>
<span class="kn">import</span> <span class="nn">libUnderworld</span> <span class="k">as</span> <span class="nn">_libUnderworld</span>

<span class="c1">#TODO: Drawing Objects to implement</span>
<span class="c1"># IsoSurface, IsoSurfaceCrossSection</span>
<span class="c1"># MeshSurface/MeshSampler (surface/volumes using MeshCrossSection sampler)</span>
<span class="c1"># Contour, ContourCrossSection</span>
<span class="c1"># HistoricalSwarmTrajectory</span>
<span class="c1"># VectorArrowMeshCrossSection?</span>
<span class="c1">#</span>
<span class="c1"># Maybe later...</span>
<span class="c1"># TextureMap</span>
<span class="c1"># SwarmShapes, SwarmRGB, SwarmVectors</span>
<span class="c1"># EigenVectors, EigenVectorCrossSection</span>
<span class="c1"># FeVariableSurface</span>

<span class="c1">#Some preset colourmaps</span>
<span class="c1"># aim to reduce banding artifacts by being either </span>
<span class="c1"># - isoluminant</span>
<span class="c1"># - smoothly increasing in luminance</span>
<span class="c1"># - diverging in luminance about centre value</span>
<span class="n">colourMaps</span> <span class="o">=</span> <span class="p">{}</span>
<span class="c1">#Isoluminant blue-orange</span>
<span class="n">colourMaps</span><span class="p">[</span><span class="s2">&quot;isolum&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;#288FD0 #50B6B8 #989878 #C68838 #FF7520&quot;</span>
<span class="c1">#Diverging blue-yellow-orange</span>
<span class="n">colourMaps</span><span class="p">[</span><span class="s2">&quot;diverge&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;#288FD0 #fbfb9f #FF7520&quot;</span>
<span class="c1">#Isoluminant rainbow blue-green-orange</span>
<span class="n">colourMaps</span><span class="p">[</span><span class="s2">&quot;rainbow&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;#5ed3ff #6fd6de #7ed7be #94d69f #b3d287 #d3ca7b #efc079 #ffb180&quot;</span>
<span class="c1">#CubeLaw indigo-blue-green-yellow</span>
<span class="n">colourMaps</span><span class="p">[</span><span class="s2">&quot;cubelaw&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;#440088 #831bb9 #578ee9 #3db6b6 #6ce64d #afeb56 #ffff88&quot;</span>
<span class="c1">#CubeLaw indigo-blue-green-orange-yellow</span>
<span class="n">colourMaps</span><span class="p">[</span><span class="s2">&quot;cubelaw2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;#440088 #1b83b9 #6cc35b #ebbf56 #ffff88&quot;</span>
<span class="c1">#CubeLaw heat blue-magenta-yellow)</span>
<span class="n">colourMaps</span><span class="p">[</span><span class="s2">&quot;smoothheat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;#440088 #831bb9 #c66f5d #ebbf56 #ffff88&quot;</span>
<span class="c1">#Paraview cool-warm (diverging)</span>
<span class="n">colourMaps</span><span class="p">[</span><span class="s2">&quot;coolwarm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;#3b4cc0 #7396f5 #b0cbfc #dcdcdc #f6bfa5 #ea7b60 #b50b27&quot;</span>

<div class="viewcode-block" id="ColourMap"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.ColourMap">[docs]</a><span class="k">class</span> <span class="nc">ColourMap</span><span class="p">(</span><span class="n">_stgermain</span><span class="o">.</span><span class="n">StgCompoundComponent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The ColourMap class provides functionality for mapping colours to numerical</span>
<span class="sd">    values.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    colours: str, list</span>
<span class="sd">        List of colours to use for drawing object colour map. Provided as a string</span>
<span class="sd">        or as a list of strings. Example, &quot;red blue&quot;, or [&quot;red&quot;, &quot;blue&quot;]</span>
<span class="sd">        This should not be specified if &#39;colourMap&#39; is specified.</span>
<span class="sd">    valueRange: tuple, list</span>
<span class="sd">        User defined value range to apply to colour map. Provided as a </span>
<span class="sd">        tuple of floats  (minValue, maxValue). If none is provided, the</span>
<span class="sd">        value range will be determined automatically.</span>
<span class="sd">    logScale: bool</span>
<span class="sd">        Bool to determine if the colourMap should use a logarithmic scale.</span>
<span class="sd">    discrete: bool</span>
<span class="sd">        Bool to determine if a discrete colour map should be used.</span>
<span class="sd">        Discrete colour maps do not interpolate between colours and instead</span>
<span class="sd">        use nearest neighbour for colouring.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_selfObjectName</span> <span class="o">=</span> <span class="s2">&quot;_cm&quot;</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;_cm&quot;</span><span class="p">:</span> <span class="s2">&quot;lucColourMap&quot;</span> <span class="p">}</span>
    
    <span class="c1">#Default is a cool-warm map with low variance in luminosity/lightness</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">colours</span><span class="o">=</span><span class="s2">&quot;#288FD0 #50B6B8 #989878 #C68838 #FF7520&quot;</span><span class="p">,</span> <span class="n">valueRange</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;properties&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">properties</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">properties</span><span class="p">,</span><span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;properties&#39; object passed in must be of python type &#39;dict&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">properties</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">colours</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">colours</span> <span class="o">=</span> <span class="n">colourMaps</span><span class="p">[</span><span class="s2">&quot;diverge&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">colours</span><span class="p">,(</span><span class="nb">str</span><span class="p">,</span><span class="nb">list</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;colours&#39; object passed in must be of python type &#39;str&#39; or &#39;list&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">colours</span><span class="p">,(</span><span class="nb">list</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;colours&quot;</span> <span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">colours</span><span class="p">)})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;colours&quot;</span> <span class="p">:</span> <span class="n">colours</span><span class="p">})</span>

        <span class="k">if</span> <span class="n">valueRange</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># is valueRange correctly defined, ie list of length 2 made of numbers</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span> <span class="n">valueRange</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span><span class="nb">tuple</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;valueRange&#39; objected passed in must be of type &#39;list&#39; or &#39;tuple&#39;&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">valueRange</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">2</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;valueRange&#39; must have 2 real values&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">valueRange</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span> <span class="n">item</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="p">):</span>
                    <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;valueRange&#39; must contain real numbers&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">valueRange</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">valueRange</span><span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The first number of the valueRange list must be smaller than the second number&quot;</span><span class="p">)</span>

            <span class="c1"># valueRange arg is good </span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;range&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="n">valueRange</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">valueRange</span><span class="p">[</span><span class="mi">1</span><span class="p">]]})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;range&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]})</span> <span class="c1"># ignored</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">logScale</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;logScale&#39; parameter must be of &#39;bool&#39; type.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_logScale</span> <span class="o">=</span> <span class="n">logScale</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;logscale&quot;</span> <span class="p">:</span> <span class="n">logScale</span><span class="p">})</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">discrete</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;discrete&#39; parameter must be of &#39;bool&#39; type.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;discrete&quot;</span> <span class="p">:</span> <span class="n">discrete</span><span class="p">})</span>

        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ColourMap</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>

        <span class="c1"># call parents method</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ColourMap</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span>

    <span class="c1">#dict methods</span>
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newdict</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span>

    <span class="k">def</span> <span class="nf">_getProperties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#Convert properties to string</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()]);</span></div>

<div class="viewcode-block" id="Drawing"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Drawing">[docs]</a><span class="k">class</span> <span class="nc">Drawing</span><span class="p">(</span><span class="n">_stgermain</span><span class="o">.</span><span class="n">StgCompoundComponent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This is the base class for all drawing objects but can also be instantiated </span>
<span class="sd">    as is for direct/custom drawing.</span>
<span class="sd">    </span>
<span class="sd">    Note that the defaults here are often overridden by the child objects.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    colours: str, list.</span>
<span class="sd">        See ColourMap class docstring for further information</span>
<span class="sd">    colourMap: glucifer.objects.ColourMap</span>
<span class="sd">        A ColourMap object for the object to use.</span>
<span class="sd">        This should not be specified if &#39;colours&#39; is specified.</span>
<span class="sd">    properties: str</span>
<span class="sd">        Extra properties to apply to the drawing object.</span>
<span class="sd">    opacity: float</span>
<span class="sd">        Opacity of object. If provided, must take values from 0. to 1. </span>
<span class="sd">    colourBar: bool</span>
<span class="sd">        Bool to determine if a colour bar should be rendered.</span>
<span class="sd">    valueRange: tuple, list</span>
<span class="sd">        See ColourMap class docstring for further information</span>
<span class="sd">    logScale: bool</span>
<span class="sd">        See ColourMap class docstring for further information</span>
<span class="sd">    discrete: bool</span>
<span class="sd">        See ColourMap class docstring for further information</span>

<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_selfObjectName</span> <span class="o">=</span> <span class="s2">&quot;_dr&quot;</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;_dr&quot;</span><span class="p">:</span> <span class="s2">&quot;lucDrawingObject&quot;</span> <span class="p">}</span> <span class="c1"># child should replace _dr with own derived type</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="n">valueRange</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">colours</span> <span class="ow">and</span> <span class="n">colourMap</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;You should specify &#39;colours&#39; or a &#39;colourMap&#39;, but not both.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">colourMap</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_colourMap</span> <span class="o">=</span> <span class="n">colourMap</span>
        <span class="k">elif</span> <span class="n">colours</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_colourMap</span> <span class="o">=</span> <span class="n">ColourMap</span><span class="p">(</span><span class="n">colours</span><span class="o">=</span><span class="n">colours</span><span class="p">,</span> <span class="n">valueRange</span><span class="o">=</span><span class="n">valueRange</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="n">logScale</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_colourMap</span> <span class="o">=</span> <span class="n">ColourMap</span><span class="p">(</span><span class="n">valueRange</span><span class="o">=</span><span class="n">valueRange</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="n">logScale</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;properties&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">properties</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">properties</span><span class="p">,</span><span class="nb">dict</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;properties&#39; object passed in must be of python type &#39;dict&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">properties</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">properties</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">opacity</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">opacity</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;opacity&#39; object passed in must be of python type &#39;int&#39; or &#39;float&#39;&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">opacity</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">1.</span> <span class="ow">or</span> <span class="nb">float</span><span class="p">(</span><span class="n">opacity</span><span class="p">)</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mf">1.</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;opacity&#39; object must takes values from 0. to 1.&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;opacity&quot;</span> <span class="p">:</span> <span class="n">opacity</span><span class="p">})</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">colourBar</span><span class="p">,</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;colourBar&#39; parameter must be of &#39;bool&#39; type.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_colourBar</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">colourBar</span><span class="p">:</span>
            <span class="c1">#Create the associated colour bar</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_colourBar</span> <span class="o">=</span> <span class="n">ColourBar</span><span class="p">(</span><span class="n">colourMap</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_colourMap</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">name</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;name&quot;</span> <span class="p">:</span> <span class="n">name</span><span class="p">})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">resetDrawing</span><span class="p">()</span>

        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Drawing</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>
        
        <span class="c1"># call parents method</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Drawing</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span>

        <span class="c1"># add an empty(ish) drawing object.  children should fill it out.</span>
        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span> <span class="p">{</span>
            <span class="s2">&quot;properties&quot;</span>    <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_getProperties</span><span class="p">(),</span>
            <span class="s2">&quot;ColourMap&quot;</span>     <span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">_colourMap</span><span class="o">.</span><span class="n">_cm</span><span class="o">.</span><span class="n">name</span>
        <span class="p">}</span> <span class="p">)</span>

    <span class="c1">#dict methods</span>
    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">newdict</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">newdict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span>

    <span class="k">def</span> <span class="nf">_getProperties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#Convert properties to string</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()]);</span>

    <span class="k">def</span> <span class="nf">resetDrawing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#Clear direct drawing data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scalars</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geomType</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1">#Direct drawing methods</span>
<div class="viewcode-block" id="Drawing.label"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Drawing.label">[docs]</a>    <span class="k">def</span> <span class="nf">label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">),</span> <span class="n">font</span><span class="o">=</span><span class="s2">&quot;sans&quot;</span><span class="p">,</span> <span class="n">scaling</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">        Writes a label string</span>
<span class="sd">        </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        text: str</span>
<span class="sd">            label text.</span>
<span class="sd">        pos: tuple</span>
<span class="sd">            X,Y,Z position to place the label.</span>
<span class="sd">        font : str</span>
<span class="sd">            label font (small/fixed/sans/serif/vector).</span>
<span class="sd">        scaling : float</span>
<span class="sd">            label font scaling (for &quot;vector&quot; font only).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geomType</span> <span class="o">=</span> <span class="n">_libUnderworld</span><span class="o">.</span><span class="n">gLucifer</span><span class="o">.</span><span class="n">lucLabelType</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;font&quot;</span> <span class="p">:</span> <span class="n">font</span><span class="p">,</span> <span class="s2">&quot;fontscale&quot;</span> <span class="p">:</span> <span class="n">scaling</span><span class="p">})</span> <span class="c1">#Merge</span></div>

<div class="viewcode-block" id="Drawing.point"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Drawing.point">[docs]</a>    <span class="k">def</span> <span class="nf">point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)):</span>
        <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">        Draws a point</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        pos : tuple</span>
<span class="sd">            X,Y,Z position to place the point</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geomType</span> <span class="o">=</span> <span class="n">_libUnderworld</span><span class="o">.</span><span class="n">gLucifer</span><span class="o">.</span><span class="n">lucPointType</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span></div>

<div class="viewcode-block" id="Drawing.line"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Drawing.line">[docs]</a>    <span class="k">def</span> <span class="nf">line</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)):</span>
        <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">        Draws a line</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        start : tuple</span>
<span class="sd">            X,Y,Z position to start line</span>
<span class="sd">        end : tuple</span>
<span class="sd">            X,Y,Z position to end line</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geomType</span> <span class="o">=</span> <span class="n">_libUnderworld</span><span class="o">.</span><span class="n">gLucifer</span><span class="o">.</span><span class="n">lucLineType</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">end</span><span class="p">)</span></div>

<div class="viewcode-block" id="Drawing.vector"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Drawing.vector">[docs]</a>    <span class="k">def</span> <span class="nf">vector</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">),</span> <span class="n">vector</span><span class="o">=</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)):</span>
        <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">        Draws a vector</span>
<span class="sd">            </span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        position : tuple</span>
<span class="sd">            X,Y,Z position to centre vector on</span>
<span class="sd">        vector : tuple</span>
<span class="sd">            X,Y,Z vector value</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">geomType</span> <span class="o">=</span> <span class="n">_libUnderworld</span><span class="o">.</span><span class="n">gLucifer</span><span class="o">.</span><span class="n">lucVectorType</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">position</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vectors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">vector</span><span class="p">)</span></div>


    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">colourBar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;    </span>
<span class="sd">        colourBar (dict): return colour bar of drawing object, create if </span>
<span class="sd">        doesn&#39;t yet exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colourBar</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_colourBar</span> <span class="o">=</span> <span class="n">ColourBar</span><span class="p">(</span><span class="n">colourMap</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_colourMap</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colourBar</span></div>

<div class="viewcode-block" id="ColourBar"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.ColourBar">[docs]</a><span class="k">class</span> <span class="nc">ColourBar</span><span class="p">(</span><span class="n">Drawing</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    The ColourBar drawing object draws a colour bar for the provided colour map.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    colourMap: glucifer.objects.ColourMap</span>
<span class="sd">        Colour map for which the colour bar will be drawn.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">colourMap</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1">#Default properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;colourbar&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;height&quot;</span> <span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;lengthfactor&quot;</span> <span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> 
                <span class="s2">&quot;margin&quot;</span> <span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s2">&quot;border&quot;</span> <span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;precision&quot;</span> <span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;scientific&quot;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;font&quot;</span> <span class="p">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span> 
                <span class="s2">&quot;ticks&quot;</span> <span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;printticks&quot;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;printunits&quot;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;scalevalue&quot;</span> <span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
                <span class="s2">&quot;font&quot;</span> <span class="p">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span> <span class="s2">&quot;fontscale&quot;</span> <span class="p">:</span> <span class="mf">0.4</span><span class="p">}</span> <span class="c1">#tick0-tick10 : val</span>
    
        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ColourBar</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">colourMap</span><span class="o">=</span><span class="n">colourMap</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1">#Always show at least 2 tick marks on a log scale</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_colourMap</span><span class="o">.</span><span class="n">_logScale</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">&quot;ticks&quot;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s2">&quot;ticks&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span></div>

<div class="viewcode-block" id="CrossSection"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.CrossSection">[docs]</a><span class="k">class</span> <span class="nc">CrossSection</span><span class="p">(</span><span class="n">Drawing</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">    This drawing object class defines a cross-section plane, derived classes </span>
<span class="sd">    plot data over this cross section</span>
<span class="sd">    </span>
<span class="sd">    See parent class for further parameter details. Also see property docstrings.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ---------</span>
<span class="sd">    mesh : underworld.mesh.FeMesh</span>
<span class="sd">        Mesh over which cross section is rendered.</span>
<span class="sd">    fn : underworld.function.Function</span>
<span class="sd">        Function used to determine values to render.</span>
<span class="sd">    crossSection : str</span>
<span class="sd">        Cross Section definition, eg. z=0.</span>
<span class="sd">    resolution : unsigned</span>
<span class="sd">        Surface rendered sampling resolution.</span>
<span class="sd">        </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;_dr&quot;</span><span class="p">:</span> <span class="s2">&quot;lucCrossSection&quot;</span> <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mesh</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">crossSection</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                       <span class="n">colours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">valueRange</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">offsetEdges</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_fn</span> <span class="o">=</span> <span class="n">_underworld</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">Function</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">fn</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span><span class="n">_uwmesh</span><span class="o">.</span><span class="n">FeMesh</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;mesh&#39; object passed in must be of type &#39;FeMesh&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mesh</span> <span class="o">=</span> <span class="n">mesh</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">crossSection</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;crossSection&#39; parameter must be of python type &#39;str&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_crossSection</span> <span class="o">=</span> <span class="n">crossSection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_offsetEdges</span> <span class="o">=</span> <span class="n">offsetEdges</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resolution</span><span class="p">,</span><span class="nb">int</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;resolution&#39; parameter must be of python type &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resolution</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;resolution&#39; parameter must be greater than zero&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resolution</span> <span class="o">=</span> <span class="n">resolution</span>

        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CrossSection</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">colours</span><span class="o">=</span><span class="n">colours</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="n">colourMap</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="n">colourBar</span><span class="p">,</span>
                       <span class="n">valueRange</span><span class="o">=</span><span class="n">valueRange</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="n">logScale</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="n">discrete</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">_libUnderworld</span><span class="o">.</span><span class="n">gLucifer</span><span class="o">.</span><span class="n">_lucCrossSection_SetFn</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cself</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn</span><span class="o">.</span><span class="n">_fncself</span> <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_offsetEdges</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">offsetEdges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_offsetEdges</span>

    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>
        <span class="c1"># lets build up component dictionary</span>
        
        <span class="c1"># call parents method</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CrossSection</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span>

        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span> <span class="p">{</span>
                   <span class="s2">&quot;Mesh&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mesh</span><span class="o">.</span><span class="n">_cself</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
                   <span class="s2">&quot;crossSection&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crossSection</span><span class="p">,</span>
                   <span class="s2">&quot;resolution&quot;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolution</span>
            <span class="p">}</span> <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">crossSection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;    crossSection (str): Cross Section definition, eg;: z=0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_crossSection</span></div>

<div class="viewcode-block" id="Surface"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Surface">[docs]</a><span class="k">class</span> <span class="nc">Surface</span><span class="p">(</span><span class="n">CrossSection</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">    This drawing object class draws a surface using the provided scalar field.</span>

<span class="sd">    See parent class for further parameter details. Also see property docstrings.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ---------</span>
<span class="sd">    mesh : underworld.mesh.FeMesh</span>
<span class="sd">        Mesh over which cross section is rendered.</span>
<span class="sd">    fn : underworld.function.Function</span>
<span class="sd">        Function used to determine values to render.</span>
<span class="sd">    drawSides : str</span>
<span class="sd">        Sides (x,y,z,X,Y,Z) for which the surface should be drawn.  </span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># let&#39;s just build both objects because we aint sure yet which one we want to use yet</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span>  <span class="s2">&quot;_dr&quot;</span>  <span class="p">:</span> <span class="s2">&quot;lucScalarField&quot;</span><span class="p">,</span>
                      <span class="s2">&quot;_dr2&quot;</span> <span class="p">:</span> <span class="s2">&quot;lucScalarFieldOnMesh&quot;</span> <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mesh</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">drawSides</span><span class="o">=</span><span class="s2">&quot;xyzXYZ&quot;</span><span class="p">,</span>
                       <span class="n">colours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">valueRange</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">drawSides</span><span class="p">,</span><span class="nb">str</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;drawSides&#39; parameter must be of python type &#39;str&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_drawSides</span> <span class="o">=</span> <span class="n">drawSides</span>

        <span class="c1"># if we wish to draw on mesh, switch live object</span>
<span class="c1">#        if not isinstance(drawOnMesh, bool):</span>
<span class="c1">#            raise TypeError(&quot;&#39;drawOnMesh parameter must be of type &#39;bool&#39;.&quot;)</span>
<span class="c1">#        self._drawOnMesh = drawOnMesh</span>


        <span class="c1">#Default properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;cullface&quot;</span> <span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
        <span class="c1"># TODO: disable lighting if 2D (how to get dims?)</span>
        <span class="c1">#self.properties[&quot;lit&quot;] = False</span>
        
        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Surface</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span> <span class="n">mesh</span><span class="o">=</span><span class="n">mesh</span><span class="p">,</span> <span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span>
                        <span class="n">colours</span><span class="o">=</span><span class="n">colours</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="n">colourMap</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="n">colourBar</span><span class="p">,</span>
                        <span class="n">valueRange</span><span class="o">=</span><span class="n">valueRange</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="n">logScale</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="n">discrete</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>
        <span class="c1"># lets build up component dictionary</span>
        <span class="c1"># append random string to provided name to ensure unique component names</span>
        <span class="c1"># call parents method</span>
        
        <span class="nb">super</span><span class="p">(</span><span class="n">Surface</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span>

        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">][</span><span class="s2">&quot;drawSides&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drawSides</span>
        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">][</span>     <span class="s2">&quot;Mesh&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mesh</span><span class="o">.</span><span class="n">_cself</span><span class="o">.</span><span class="n">name</span>
        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr2</span><span class="o">.</span><span class="n">name</span><span class="p">][</span><span class="s2">&quot;drawSides&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drawSides</span>
        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr2</span><span class="o">.</span><span class="n">name</span><span class="p">][</span>     <span class="s2">&quot;Mesh&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mesh</span><span class="o">.</span><span class="n">_cself</span><span class="o">.</span><span class="n">name</span>

    <span class="k">def</span> <span class="nf">_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="c1">#        if self._drawOnMesh:</span>
<span class="c1">#            self._drOrig = self._dr</span>
<span class="c1">#            self._dr     = self._dr2</span>
<span class="c1">#            self._cself  = self._dr2</span>
        <span class="n">_libUnderworld</span><span class="o">.</span><span class="n">gLucifer</span><span class="o">.</span><span class="n">_lucCrossSection_SetFn</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cself</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn</span><span class="o">.</span><span class="n">_fncself</span> <span class="p">)</span>

    <span class="k">def</span> <span class="nf">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># lets unwind the kludge from _setup to avoid any double deletions or memory leaks.</span>
<span class="c1">#        if self._drawOnMesh:</span>
<span class="c1">#            self._dr    = self._drOrig</span>
<span class="c1">#            self._cself = self._drOrig</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Surface</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__del__</span><span class="p">()</span></div>


<div class="viewcode-block" id="Points"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Points">[docs]</a><span class="k">class</span> <span class="nc">Points</span><span class="p">(</span><span class="n">Drawing</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">    This drawing object class draws a swarm of points.</span>
<span class="sd">    </span>
<span class="sd">    See parent class for further parameter details. Also see property docstrings.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ---------</span>
<span class="sd">    swarm : underworld.swarm.Swarm</span>
<span class="sd">        Swarm which provides locations for point rendering.</span>
<span class="sd">    fn_colour : underworld.function.Function</span>
<span class="sd">        Function used to determine colour to render particle.</span>
<span class="sd">        This function should return float/double values.</span>
<span class="sd">    fn_mask : underworld.function.Function</span>
<span class="sd">        Function used to determine if a particle should be rendered. </span>
<span class="sd">        This function should return bool values. </span>
<span class="sd">    fn_size : underworld.function.Function</span>
<span class="sd">        Function used to determine size to render particle.</span>
<span class="sd">        This function should return float/double values.</span>
<span class="sd">        </span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;_dr&quot;</span><span class="p">:</span> <span class="s2">&quot;lucSwarmViewer&quot;</span> <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">swarm</span><span class="p">,</span> <span class="n">fn_colour</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fn_mask</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">fn_size</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pointSize</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">pointType</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">colourVariable</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">colours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">valueRange</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="c1">#DEPRECATE</span>
        <span class="k">if</span> <span class="n">colourVariable</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;&#39;colourVariable&#39; parameter is deprecated. Use the fn_colour parameter instead.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">swarm</span><span class="p">,</span><span class="n">_swarmMod</span><span class="o">.</span><span class="n">Swarm</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;swarm&#39; object passed in must be of type &#39;Swarm&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_swarm</span> <span class="o">=</span> <span class="n">swarm</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_fn_colour</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">fn_colour</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">_fn_colour</span> <span class="o">=</span> <span class="n">_underworld</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">Function</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">fn_colour</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fn_mask</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">fn_mask</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">_fn_mask</span> <span class="o">=</span> <span class="n">_underworld</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">Function</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">fn_mask</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fn_size</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">fn_size</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
           <span class="bp">self</span><span class="o">.</span><span class="n">_fn_size</span> <span class="o">=</span> <span class="n">_underworld</span><span class="o">.</span><span class="n">function</span><span class="o">.</span><span class="n">Function</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">fn_size</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pointSize</span><span class="p">,(</span><span class="nb">float</span><span class="p">,</span><span class="nb">int</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;pointSize&#39; object passed in must be of python type &#39;float&#39; or &#39;int&#39;&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">pointType</span><span class="p">,(</span><span class="nb">int</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;pointType&#39; object passed in must be of python type &#39;int&#39;&quot;</span><span class="p">)</span>

        <span class="c1">#Default properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;pointsize&quot;</span> <span class="p">:</span> <span class="n">pointSize</span><span class="p">,</span> <span class="s2">&quot;pointtype&quot;</span> <span class="p">:</span> <span class="n">pointType</span><span class="p">}</span>

        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Points</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span>
                        <span class="n">colours</span><span class="o">=</span><span class="n">colours</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="n">colourMap</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="n">colourBar</span><span class="p">,</span>
                        <span class="n">valueRange</span><span class="o">=</span><span class="n">valueRange</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="n">logScale</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="n">discrete</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>
        <span class="c1"># lets build up component dictionary</span>
        
        <span class="nb">super</span><span class="p">(</span><span class="n">Points</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span>

        <span class="n">componentDictionary</span><span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cself</span><span class="o">.</span><span class="n">name</span> <span class="p">][</span> <span class="s2">&quot;Swarm&quot;</span> <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_swarm</span><span class="o">.</span><span class="n">_cself</span><span class="o">.</span><span class="n">name</span>
        
    <span class="k">def</span> <span class="nf">_setup</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fnc_ptr</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn_colour</span><span class="p">:</span>
            <span class="n">fnc_ptr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn_colour</span><span class="o">.</span><span class="n">_fncself</span>
        <span class="n">fnm_ptr</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn_mask</span><span class="p">:</span>
            <span class="n">fnm_ptr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn_mask</span><span class="o">.</span><span class="n">_fncself</span>
        <span class="n">fns_ptr</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn_size</span><span class="p">:</span>
            <span class="n">fns_ptr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_fn_size</span><span class="o">.</span><span class="n">_fncself</span>

        <span class="n">_libUnderworld</span><span class="o">.</span><span class="n">gLucifer</span><span class="o">.</span><span class="n">_lucSwarmViewer_SetFn</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cself</span><span class="p">,</span> <span class="n">fnc_ptr</span><span class="p">,</span> <span class="n">fnm_ptr</span><span class="p">,</span> <span class="n">fns_ptr</span><span class="p">,</span> <span class="kc">None</span> <span class="p">)</span></div>


<span class="k">class</span> <span class="nc">_GridSampler3D</span><span class="p">(</span><span class="n">CrossSection</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;  This drawing object class samples a regular grid in 3D.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;_dr&quot;</span><span class="p">:</span> <span class="kc">None</span> <span class="p">}</span> <span class="c1">#Abstract class, Set by child</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resolutionI</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">resolutionJ</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">resolutionK</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">resolutionI</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resolutionI</span><span class="p">,</span><span class="nb">int</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;resolutionI&#39; object passed in must be of python type &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resolutionJ</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resolutionJ</span><span class="p">,</span><span class="nb">int</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;resolutionJ&#39; object passed in must be of python type &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">resolutionK</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resolutionK</span><span class="p">,</span><span class="nb">int</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;resolutionK&#39; object passed in must be of python type &#39;int&#39;&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_resolutionI</span> <span class="o">=</span> <span class="n">resolutionI</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resolutionJ</span> <span class="o">=</span> <span class="n">resolutionJ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_resolutionK</span> <span class="o">=</span> <span class="n">resolutionK</span>

        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_GridSampler3D</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>
        <span class="c1"># lets build up component dictionary</span>
        
        <span class="c1"># call parents method</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">_GridSampler3D</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span>

        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span> <span class="p">{</span>
            <span class="s2">&quot;resolutionX&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolutionI</span><span class="p">,</span>
            <span class="s2">&quot;resolutionY&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolutionJ</span><span class="p">,</span>
            <span class="s2">&quot;resolutionZ&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_resolutionK</span>
            <span class="p">}</span> <span class="p">)</span>


<div class="viewcode-block" id="VectorArrows"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.VectorArrows">[docs]</a><span class="k">class</span> <span class="nc">VectorArrows</span><span class="p">(</span><span class="n">_GridSampler3D</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">    This drawing object class draws vector arrows corresponding to the provided vector field.</span>

<span class="sd">    See parent class for further parameter details. Also see property docstrings.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ---------</span>
<span class="sd">    mesh : underworld.mesh.FeMesh</span>
<span class="sd">        Mesh over which vector arrows are rendered.</span>
<span class="sd">    fn : underworld.function.Function</span>
<span class="sd">        Function used to determine vectors to render. </span>
<span class="sd">        Function should return a vector of floats/doubles of appropriate</span>
<span class="sd">        dimensionality.</span>
<span class="sd">    arrowHead : float</span>
<span class="sd">         The size of the head of the arrow compared with the arrow length.</span>
<span class="sd">         Must be in [0.,1.].</span>
<span class="sd">    scaling : float</span>
<span class="sd">        Scaling for entire arrow.</span>
<span class="sd">    glyphs : int</span>
<span class="sd">        Type of glyph to render for vector arrow.</span>
<span class="sd">        0: Line, 1 or more: 3d arrow, higher number =&gt; better quality.</span>
<span class="sd">    resolutionI : unsigned</span>
<span class="sd">        Number of samples in the I direction.</span>
<span class="sd">    resolutionJ : unsigned</span>
<span class="sd">        Number of samples in the J direction.</span>
<span class="sd">    resolutionK : unsigned</span>
<span class="sd">        Number of samples in the K direction.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;_dr&quot;</span><span class="p">:</span> <span class="s2">&quot;lucVectorArrows&quot;</span> <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mesh</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">arrowHead</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">scaling</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">glyphs</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                       <span class="n">resolutionI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolutionJ</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolutionK</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> 
                       <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="k">if</span> <span class="n">arrowHead</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">arrowHead</span><span class="p">,(</span><span class="nb">float</span><span class="p">,</span><span class="nb">int</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;arrowHead&#39; object passed in must be of python type &#39;int&#39; or &#39;float&#39;&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">arrowHead</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">arrowHead</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;arrowHead&#39; can only take values between zero and one. Value provided is &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">arrowHead</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">scaling</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">scaling</span><span class="p">,(</span><span class="nb">float</span><span class="p">,</span><span class="nb">int</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;scaling&#39; object passed in must be of python type &#39;int&#39; or &#39;float&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">glyphs</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">glyphs</span><span class="p">,(</span><span class="nb">int</span><span class="p">)):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;glyphs&#39; object passed in must be of python type &#39;int&#39;&quot;</span><span class="p">)</span>

        <span class="c1">#Default properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;arrowHead&quot;</span> <span class="p">:</span> <span class="n">arrowHead</span><span class="p">,</span> <span class="s2">&quot;scaling&quot;</span> <span class="p">:</span> <span class="n">scaling</span><span class="p">,</span> <span class="s2">&quot;glyphs&quot;</span> <span class="p">:</span> <span class="n">glyphs</span><span class="p">}</span>

        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">VectorArrows</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span> <span class="n">mesh</span><span class="o">=</span><span class="n">mesh</span><span class="p">,</span> <span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span> <span class="n">resolutionI</span><span class="o">=</span><span class="n">resolutionI</span><span class="p">,</span> <span class="n">resolutionJ</span><span class="o">=</span><span class="n">resolutionJ</span><span class="p">,</span> <span class="n">resolutionK</span><span class="o">=</span><span class="n">resolutionK</span><span class="p">,</span>
                        <span class="n">colours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>
        <span class="c1"># lets build up component dictionary</span>
        
        <span class="c1"># call parents method</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">VectorArrows</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span>

        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span> <span class="p">{}</span> <span class="p">)</span></div>

<div class="viewcode-block" id="Volume"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Volume">[docs]</a><span class="k">class</span> <span class="nc">Volume</span><span class="p">(</span><span class="n">_GridSampler3D</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">    This drawing object class draws a volume using the provided scalar field.</span>
<span class="sd">    </span>
<span class="sd">    See parent class for further parameter details. Also see property docstrings.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ---------</span>
<span class="sd">    mesh : underworld.mesh.FeMesh</span>
<span class="sd">        Mesh over which object is rendered.</span>
<span class="sd">    fn : underworld.function.Function</span>
<span class="sd">        Function used to determine colour values.</span>
<span class="sd">        Function should return a vector of floats/doubles of appropriate</span>
<span class="sd">        dimensionality.</span>
<span class="sd">    resolutionI : unsigned</span>
<span class="sd">        Number of samples in the I direction.</span>
<span class="sd">    resolutionJ : unsigned</span>
<span class="sd">        Number of samples in the J direction.</span>
<span class="sd">    resolutionK : unsigned</span>
<span class="sd">        Number of samples in the K direction.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;_dr&quot;</span><span class="p">:</span> <span class="s2">&quot;lucFieldSampler&quot;</span> <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mesh</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">resolutionI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolutionJ</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">resolutionK</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">colours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">valueRange</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                       <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># build parent</span>
        <span class="k">if</span> <span class="n">mesh</span><span class="o">.</span><span class="n">dim</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Volume rendered requires a three dimensional mesh.&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Volume</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span> <span class="n">mesh</span><span class="o">=</span><span class="n">mesh</span><span class="p">,</span> <span class="n">fn</span><span class="o">=</span><span class="n">fn</span><span class="p">,</span> <span class="n">resolutionI</span><span class="o">=</span><span class="n">resolutionI</span><span class="p">,</span> <span class="n">resolutionJ</span><span class="o">=</span><span class="n">resolutionJ</span><span class="p">,</span> <span class="n">resolutionK</span><span class="o">=</span><span class="n">resolutionK</span><span class="p">,</span>
                        <span class="n">colours</span><span class="o">=</span><span class="n">colours</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="n">colourMap</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="n">colourBar</span><span class="p">,</span>
                        <span class="n">valueRange</span><span class="o">=</span><span class="n">valueRange</span><span class="p">,</span> <span class="n">logScale</span><span class="o">=</span><span class="n">logScale</span><span class="p">,</span> <span class="n">discrete</span><span class="o">=</span><span class="n">discrete</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>
        <span class="c1"># lets build up component dictionary</span>
        
        <span class="c1"># call parents method</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Volume</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span></div>

<div class="viewcode-block" id="Mesh"><a class="viewcode-back" href="../../glucifer.objects.html#glucifer.objects.Mesh">[docs]</a><span class="k">class</span> <span class="nc">Mesh</span><span class="p">(</span><span class="n">Drawing</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;  </span>
<span class="sd">    This drawing object class draws a mesh.</span>
<span class="sd">    </span>
<span class="sd">    See parent class for further parameter details. Also see property docstrings.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    mesh : underworld.mesh.FeMesh</span>
<span class="sd">        Mesh to render.</span>
<span class="sd">    nodeNumbers : bool</span>
<span class="sd">        Bool to determine whether global node numbers should be rendered. </span>
<span class="sd">    segmentsPerEdge : unsigned</span>
<span class="sd">        Number of segments to render per cell/element edge. For higher </span>
<span class="sd">        order mesh, more segments are useful to render mesh curvature correctly.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_objectsDict</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;_dr&quot;</span><span class="p">:</span> <span class="s2">&quot;lucMeshViewer&quot;</span> <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span> <span class="bp">self</span><span class="p">,</span> <span class="n">mesh</span><span class="p">,</span> <span class="n">nodeNumbers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">segmentsPerEdge</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;linesmooth&quot;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">},</span> <span class="n">opacity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span> <span class="p">):</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span><span class="n">_uwmesh</span><span class="o">.</span><span class="n">FeMesh</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;mesh&#39; object passed in must be of type &#39;FeMesh&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mesh</span> <span class="o">=</span> <span class="n">mesh</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nodeNumbers</span><span class="p">,</span><span class="nb">bool</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;nodeNumbers&#39; flag must be of type &#39;bool&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_nodeNumbers</span> <span class="o">=</span> <span class="n">nodeNumbers</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">segmentsPerEdge</span><span class="p">,</span><span class="nb">int</span><span class="p">)</span> <span class="ow">or</span> <span class="n">segmentsPerEdge</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s2">&quot;&#39;segmentsPerEdge&#39; must be a positive &#39;int&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_segmentsPerEdge</span> <span class="o">=</span> <span class="n">segmentsPerEdge</span>

        <span class="c1">#Default properties</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">properties</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;lit&quot;</span> <span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;font&quot;</span> <span class="p">:</span> <span class="s2">&quot;small&quot;</span><span class="p">,</span> <span class="s2">&quot;fontscale&quot;</span> <span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span>
                           <span class="s2">&quot;pointsize&quot;</span> <span class="p">:</span> <span class="mi">5</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodeNumbers</span> <span class="k">else</span> <span class="mi">1</span><span class="p">,</span> 
                           <span class="s2">&quot;pointtype&quot;</span> <span class="p">:</span> <span class="mi">2</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodeNumbers</span> <span class="k">else</span> <span class="mi">4</span><span class="p">}</span>
        
        <span class="c1"># build parent</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Mesh</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span> <span class="n">colours</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">colourMap</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">properties</span><span class="o">=</span><span class="n">properties</span><span class="p">,</span> <span class="n">opacity</span><span class="o">=</span><span class="n">opacity</span><span class="p">,</span> <span class="n">colourBar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span> <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_add_to_stg_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">componentDictionary</span><span class="p">):</span>
        <span class="c1"># lets build up component dictionary</span>
        <span class="c1"># append random string to provided name to ensure unique component names</span>
        <span class="c1"># call parents method</span>
        
        <span class="nb">super</span><span class="p">(</span><span class="n">Mesh</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">_add_to_stg_dict</span><span class="p">(</span><span class="n">componentDictionary</span><span class="p">)</span>

        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">][</span>       <span class="s2">&quot;Mesh&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_mesh</span><span class="o">.</span><span class="n">_cself</span><span class="o">.</span><span class="n">name</span>
        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">][</span><span class="s2">&quot;nodeNumbers&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_nodeNumbers</span>
        <span class="n">componentDictionary</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_dr</span><span class="o">.</span><span class="n">name</span><span class="p">][</span>   <span class="s2">&quot;segments&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_segmentsPerEdge</span></div>
</pre></div>

           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Melbourne University, Monash University..

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>